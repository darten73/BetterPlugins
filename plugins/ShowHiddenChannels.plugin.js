//META{"name":"ShowHiddenChannels"}*//

var ShowHiddenChannels=function(){this.delay=6E4;this.updateHiddenCategory=false;this.categoryMarkup='<div class="container-hidden">\n\t\t\t\t<div class="containerDefault-1bbItS">\n\t\t\t\t\t<div class="flex-lFgbSz flex-3B1Tl4 horizontal-2BEEBe horizontal-2VE-Fw directionRow-yNbSvJ justifyStart-2yIZo0 alignCenter-3VxkQP noWrap-v6g9vO wrapperDefault-1Dl4SS cursorPointer-3oKATS" style="flex: 1 1 auto;">\n\t\t\t\t\t\t<svg class="iconDefault-xzclSQ iconTransition-VhWJ85" width="12" height="12" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M7 10L12 15 17 10"></path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div class="nameDefault-Lnjrwm colorTransition-2iZaYd overflowEllipsis-2ynGQq" style="flex: 1 1 auto;">hidden</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>';
    this.channelTextMarkup='<div class="containerDefault-7RImuF">\n\t\t\t\t<div class="wrapperDefaultText-3M3F1R wrapper-fDmxzK">\n\t\t\t\t\t<div class="contentDefaultText-2elG3R content-2mSKOj">\n\t\t\t\t\t\t<div class="marginReset-1YolDJ" style="flex: 0 0 auto;">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="colorDefaultText-2v6rRX icon-3tVJnl">\n\t\t\t\t\t\t\t\t<path class="background-1BDvMy" fill="currentColor" d="M7.92,4.66666667 L6.50666667,4.66666667 L6.98,2 L5.64666667,2 L5.17333333,4.66666667 L2.50666667,4.66666667 L2.27333333,6 L4.94,6 L4.23333333,10 L1.56666667,10 L1.33333333,11.3333333 L4,11.3333333 L3.52666667,14 L4.86,14 L5.33333333,11.3333333 L9.33333333,11.3333333 L8.86,14 L10.1933333,14 L10.6666667,11.3333333 L13.3333333,11.3333333 L13.5666667,10 L12.2333333,10 L8.74333333,10 L5.56666667,10 L6.27333333,6 L7.92,6 L7.92,4.66666667 Z"></path>\n\t\t\t\t\t\t\t\t<path class="foreground-2GKNZG" fill="currentColor" fill-rule="nonzero" d="M15.1,3.2 L15.1,2 C15.1,0.88 14.05,0 13,0 C11.95,0 10.9,0.88 10.9,2 L10.9,3.2 C10.45,3.2 10,3.68 10,4.16 L10,6.96 C10,7.52 10.45,8 10.9,8 L15.025,8 C15.55,8 16,7.52 16,7.04 L16,4.24 C16,3.68 15.55,3.2 15.1,3.2 Z M14,3 L12,3 L12,1.92857143 C12,1.35714286 12.4666667,1 13,1 C13.5333333,1 14,1.35714286 14,1.92857143 L14,3 Z"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nameDefaultText-QoumjC name-2SL4ev overflowEllipsis-3Rxxjf" style="flex: 1 1 auto;"></div>\n\t\t\t\t\t\t<div class="flex-lFgbSz flex-3B1Tl4 horizontal-2BEEBe horizontal-2VE-Fw directionRow-yNbSvJ justifyStart-2yIZo0 alignCenter-3VxkQP noWrap-v6g9vO marginReset-1YolDJ" style="flex: 0 1 auto;"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>';
    this.channelVoiceMarkup='<div id="REPLACE_ID" class="voiceChannel containerDefault-7RImuF">\n\t\t\t\t<div class="wrapperDefaultVoice-2ud9mj wrapper-fDmxzK">\n\t\t\t\t\t<div class="contentDefaultVoice-311dxZ content-2mSKOj">\n\t\t\t\t\t\t<div class="marginReset-1YolDJ" style="flex: 0 0 auto;">\n\t\t\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" class="colorDefaultVoice-1x4dEl icon-3tVJnl">\n\t\t\t\t\t\t\t\t<path class="background-2nyTH_" fill="currentColor" d="M13.6005009,10 C12.8887426,11.8438372 11.2906136,13.2480521 9.33333333,13.6933333 L9.33333333,12.3133333 C10.5512947,11.950895 11.5614504,11.1062412 12.1398042,10 L13.6005009,10 Z M10.7736513,8.99497564 C10.4978663,9.6613459 9.98676114,10.2040442 9.33333333,10.5133333 L9.33333333,8.99497564 L10.7736513,8.99497564 Z M2,5.84666667 L4.66666667,5.84666667 L8,2.51333333 L8,13.18 L4.66666667,9.84666667 L2,9.84666667 L2,5.84666667 Z"></path>\n\t\t\t\t\t\t\t\t<path class="foreground-2zy1hc" fill="currentColor" fill-rule="nonzero" d="M15.1,3.2 L15.1,2 C15.1,0.88 14.05,0 13,0 C11.95,0 10.9,0.88 10.9,2 L10.9,3.2 C10.45,3.2 10,3.68 10,4.16 L10,6.96 C10,7.52 10.45,8 10.9,8 L15.025,8 C15.55,8 16,7.52 16,7.04 L16,4.24 C16,3.68 15.55,3.2 15.1,3.2 Z M14,3 L12,3 L12,1.92857143 C12,1.35714286 12.4666667,1 13,1 C13.5333333,1 14,1.35714286 14,1.92857143 L14,3 Z"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="nameDefaultVoice-1swZoh name-2SL4ev overflowEllipsis-3Rxxjf" style="flex: 1 1 auto;"></div>\n\t\t\t\t\t\t<div class="flex-lFgbSz flex-3B1Tl4 horizontal-2BEEBe horizontal-2VE-Fw flex-3B1Tl4 directionRow-yNbSvJ justifyStart-2yIZo0 alignCenter-3VxkQP noWrap-v6g9vO marginReset-1YolDJ" style="flex: 0 1 auto;"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="putHere flex-lFgbSz flex-3B1Tl4 vertical-3X17r5 flex-3B1Tl4 directionColumn-2h-LPR justifyStart-2yIZo0 alignStretch-1hwxMa noWrap-v6g9vO listDefault-3i7eWQ" style="flex: 1 1 auto;">\n\n                    </div>\n\t\t\t\t</div>\n\t\t\t</div>';
    this.channelCategoryMarkup='<div class="containerDefault-7RImuF">\n\t\t\t\t<div class="flex-lFgbSz flex-3B1Tl4 horizontal-2BEEBe horizontal-2VE-Fw directionRow-yNbSvJ justifyStart-2yIZo0 alignCenter-3VxkQP noWrap-v6g9vO cursorPointer-3oKATS wrapperCollapsed-18mf-c content-2mSKOj" style="flex: 1 1 auto;">\n\t\t\t\t\t<svg class="iconTransition-VhWJ85 closed-2Hef-I iconCollapsed-1INdMX" width="12" height="12" viewBox="0 0 24 24">\n\t\t\t\t\t\t<path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M7 10L12 15 17 10"></path>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div class="colorTransition-2iZaYd overflowEllipsis-2ynGQq nameCollapsed-3_ChMu" style="flex: 1 1 auto;"></div>\n\t\t\t\t</div>\n\t\t\t</div>';
    this.defaults={settings:{showUsers:{value:true,description:"Show users hidden in Voicechannels:"},showText:{value:true,description:"Show hidden Textchannels:"},showVoice:{value:true,description:"Show hidden Voicechannels:"},showCategory:{value:false,description:"Show hidden Categories:"},showAllowedRoles:{value:true,description:"Show allowed Roles on hover:"},showOverWrittenRoles:{value:true,description:"Include overwritten Roles in allowed Roles:"},showDeniedRoles:{value:true,description:"Show denied Roles on hover:"},
            showDeniedUsers:{value:true,description:"Show denied Users on hover:"},showForNormal:{value:false,description:"Also show Roles/Users for allowed channels:"},showTopic:{value:false,description:"Show the topic of hidden channels:"}}}};ShowHiddenChannels.prototype.getName=function(){return"ShowHiddenChannels"};ShowHiddenChannels.prototype.getDescription=function(){return"Displays channels that are hidden from you by role restrictions. (Upgraded by Dario)"};ShowHiddenChannels.prototype.getVersion=function(){return"2.2.7"};
ShowHiddenChannels.prototype.getAuthor=function(){return"DevilBro (Upgraded by Dario)"};
ShowHiddenChannels.prototype.getSettingsPanel=function(){var $jscomp$this=this;if(!this.started||typeof BDfunctionsDario!=="object")return;var settings=BDfunctionsDario.getAllData(this,"settings");var settingshtml='<div class="'+this.getName()+'-settings Dario-settings"><div class="titleDefault-1CWM9y title-3i-5G_ size18-ZM4Qv- height24-2pMcnc weightNormal-3gw0Lm marginBottom8-1mABJ4">'+this.getName()+'</div><div class="Dario-settings-inner">';for(var key in settings)settingshtml+='<div class="flex-lFgbSz flex-3B1Tl4 horizontal-2BEEBe horizontal-2VE-Fw directionRow-yNbSvJ justifyStart-2yIZo0 alignCenter-3VxkQP noWrap-v6g9vO marginBottom8-1mABJ4" style="flex: 1 1 auto;"><h3 class="titleDefault-1CWM9y title-3i-5G_ marginReset-3hwONl weightMedium-13x9Y8 size16-3IvaX_ height24-2pMcnc flexChild-1KGW5q" style="flex: 1 1 auto;">'+
    this.defaults.settings[key].description+'</h3><div class="flexChild-1KGW5q switchEnabled-3CPlLV switch-3lyafC value-kmHGfs sizeDefault-rZbSBU size-yI1KRe themeDefault-3M0dJU" style="flex: 0 0 auto;"><input type="checkbox" value="'+key+'" class="checkboxEnabled-4QfryV checkbox-1KYsPm"'+(settings[key]?" checked":"")+"></div></div>";settingshtml+="</div></div>";var settingspanel=$(settingshtml)[0];BDfunctionsDario.initElements(settingspanel);$(settingspanel).on("click",".checkbox-1KYsPm",function(){$jscomp$this.updateSettings(settingspanel)});
    return settingspanel};ShowHiddenChannels.prototype.load=function(){};
ShowHiddenChannels.prototype.start=function(){var $jscomp$this=this;var libraryScript=null;if(typeof BDfunctionsDario!=="object"||BDfunctionsDario.isLibraryOutdated()){if(typeof BDfunctionsDario==="object")BDfunctionsDario="";libraryScript=document.querySelector('head script[src="https://raw.githubusercontent.com/darten73/BetterPlugins/master/BDfunctionsDario.js"]');if(libraryScript)libraryScript.remove();libraryScript=document.createElement("script");libraryScript.setAttribute("type","text/javascript");
    libraryScript.setAttribute("src","https://raw.githubusercontent.com/darten73/BetterPlugins/master/BDfunctionsDario.js");document.head.appendChild(libraryScript)}this.startTimeout=setTimeout(function(){$jscomp$this.initialize()},3E4);if(typeof BDfunctionsDario==="object")this.initialize();else libraryScript.addEventListener("load",function(){$jscomp$this.initialize()})};
ShowHiddenChannels.prototype.initialize=function(){var $jscomp$this=this;if(typeof BDfunctionsDario==="object"){BDfunctionsDario.loadMessage(this);this.UserStore=BDfunctionsDario.WebModules.findByProperties(["getUsers","getUser"]);this.MemberStore=BDfunctionsDario.WebModules.findByProperties(["getMember","getMembers"]);this.ChannelStore=BDfunctionsDario.WebModules.findByProperties(["getChannels","getDMFromUserId"]);this.GuildChannels=BDfunctionsDario.WebModules.findByProperties(["getChannels","getDefaultChannel"]);
    this.Permissions=BDfunctionsDario.WebModules.findByProperties(["Permissions","ActivityTypes"]).Permissions;this.UsersVoiceStore=BDfunctionsDario.WebModules.findByProperties(["getVoiceStates"]);var observer=null;observer=new MutationObserver(function(changes,_){changes.forEach(function(change,i){if(change.addedNodes)change.addedNodes.forEach(function(node){if(node&&node.className&&node.className.length>0&&node.className.indexOf("container-")>-1&&node.className.indexOf("hidden")==-1)$jscomp$this.appendToChannelList(document.querySelector(".container-hidden"))})})});
    BDfunctionsDario.addObserver(this,".channels-3g2vYe",{name:"channelListObserver",instance:observer},{childList:true,subtree:true});observer=new MutationObserver(function(changes,_){changes.forEach(function(change,i){if(change.removedNodes)change.removedNodes.forEach(function(node){if($jscomp$this.updateHiddenCategory&&node&&node.tagName&&node.getAttribute("layer-id")=="user-settings"){document.querySelectorAll(".container-hidden").forEach(function(category){category.remove()});$jscomp$this.displayHiddenChannels();
        $jscomp$this.updateHiddenCategory=false}})})});BDfunctionsDario.addObserver(this,".layers-20RVFW",{name:"settingsWindowObserver",instance:observer},{childList:true});this.displayHiddenChannels();this.i=false;var self=this;this.loop=setInterval(function(){$(".container-hidden").remove();self.displayHiddenChannels();console.log("loop"+new Date)},this.delay)}else console.error(this.getName()+": Fatal Error: Could not load BD functions!")};
ShowHiddenChannels.prototype.stop=function(){if(typeof BDfunctionsDario==="object"){$(".container-hidden").remove();clearInterval(this.loop);BDfunctionsDario.unloadMessage(this)}};ShowHiddenChannels.prototype.onSwitch=function(){if(typeof BDfunctionsDario==="object")this.displayHiddenChannels()};
ShowHiddenChannels.prototype.updateSettings=function(settingspanel){var settings={};for(var $jscomp$iter$0=$jscomp.makeIterator(settingspanel.querySelectorAll(".checkbox-1KYsPm")),$jscomp$key$input=$jscomp$iter$0.next();!$jscomp$key$input.done;$jscomp$key$input=$jscomp$iter$0.next()){var input=$jscomp$key$input.value;{settings[input.value]=input.checked}}BDfunctionsDario.saveAllData(settings,this,"settings");this.updateHiddenCategory=true};
ShowHiddenChannels.prototype.displayHiddenChannels=function(){var $jscomp$this=this;var serverObj=BDfunctionsDario.getSelectedServer();if(serverObj){var serverID=serverObj.id;if(!document.querySelector(".container-hidden.server"+serverID)){$(".container-hidden").remove();var types={"text":0,"voice":2,"category":4};var allChannels=this.ChannelStore.getChannels();var shownChannels=this.GuildChannels.getChannels(serverID);var hiddenChannels={};for(var type in types)hiddenChannels[types[type]]=[];for(var channelID in allChannels){var channel=
    allChannels[channelID];if(channel.guild_id==serverID){var isHidden=true;if(channel.type==types.category)for(var type$10 in types)for(var $jscomp$iter$1=$jscomp.makeIterator(shownChannels[types[type$10]]),$jscomp$key$shownChannel=$jscomp$iter$1.next();!$jscomp$key$shownChannel.done;$jscomp$key$shownChannel=$jscomp$iter$1.next()){var shownChannel=$jscomp$key$shownChannel.value;{if(!channel.id||shownChannel.channel.parent_id==channel.id){isHidden=false;break}}}else for(var $jscomp$iter$2=$jscomp.makeIterator(shownChannels[channel.type]),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               $jscomp$key$shownChannel=$jscomp$iter$2.next();!$jscomp$key$shownChannel.done;$jscomp$key$shownChannel=$jscomp$iter$2.next()){var shownChannel$11=$jscomp$key$shownChannel.value;{if(shownChannel$11.channel.id==channel.id){isHidden=false;break}}}if(isHidden)hiddenChannels[channel.type].push(channel)}}var settings=BDfunctionsDario.getAllData(this,"settings");var count=0;for(var type$12 in types){if(!settings.showText&&type$12=="text"||!settings.showVoice&&type$12=="voice"||!settings.showCategory&&type$12==
    "category")hiddenChannels[types[type$12]]=[];BDfunctionsDario.sortArrayByKey(hiddenChannels[types[type$12]],"name");count+=hiddenChannels[types[type$12]].length}hiddenChannels.count=count;if(count>0){var category=$(this.categoryMarkup)[0];var wrapper=category.querySelector(".cursorPointer-3oKATS");var svg=category.querySelector(".iconTransition-VhWJ85");var name=category.querySelector(".colorTransition-2iZaYd");$(category).addClass("server"+serverID).on("click",".containerDefault-1bbItS > .flex-lFgbSz",
    function(){wrapper.classList.toggle("wrapperHovered-1KDCyZ");wrapper.classList.toggle("wrapperHoveredCollapsed-25KVVp");svg.classList.toggle("iconHovered-3PRzOR");svg.classList.toggle("iconHoveredCollapsed-jNYgOD");svg.classList.toggle("closed-2Hef-I");name.classList.toggle("nameHoveredCollapsed-2c-EHI");name.classList.toggle("nameHovered-1YFSWq");$(category).find(".containerDefault-7RImuF").toggle(!svg.classList.contains("closed-2Hef-I"));BDfunctionsDario.saveData(serverID,!svg.classList.contains("closed-2Hef-I"),
        $jscomp$this,"categorystatus")}).on("mouseenter mouseleave",".containerDefault-1bbItS > .flex-lFgbSz",function(){if(!category.querySelector(".closed-2Hef-I")){wrapper.classList.toggle("wrapperDefault-1Dl4SS");wrapper.classList.toggle("wrapperHovered-1KDCyZ");svg.classList.toggle("iconDefault-xzclSQ");svg.classList.toggle("iconHovered-3PRzOR");name.classList.toggle("nameDefault-Lnjrwm");name.classList.toggle("nameHovered-1YFSWq")}else{wrapper.classList.toggle("wrapperCollapsed-18mf-c");wrapper.classList.toggle("wrapperHoveredCollapsed-25KVVp");
    svg.classList.toggle("iconCollapsed-1INdMX");svg.classList.toggle("iconHoveredCollapsed-jNYgOD");name.classList.toggle("nameCollapsed-3_ChMu");name.classList.toggle("nameHoveredCollapsed-2c-EHI")}});var $jscomp$loop$31={};var $jscomp$iter$3=$jscomp.makeIterator(hiddenChannels[0]),$jscomp$key$hiddenChannel=$jscomp$iter$3.next();for(;!$jscomp$key$hiddenChannel.done;$jscomp$loop$31={channelwrapper:$jscomp$loop$31.channelwrapper,channelicon:$jscomp$loop$31.channelicon,channelsvg:$jscomp$loop$31.channelsvg,
    channelname:$jscomp$loop$31.channelname,hiddenChannel:$jscomp$loop$31.hiddenChannel},$jscomp$key$hiddenChannel=$jscomp$iter$3.next()){$jscomp$loop$31.hiddenChannel=$jscomp$key$hiddenChannel.value;{var channel$13=$(this.channelTextMarkup)[0];$jscomp$loop$31.channelwrapper=channel$13.querySelector(".wrapper-fDmxzK");$jscomp$loop$31.channelicon=channel$13.querySelector(".content-2mSKOj");$jscomp$loop$31.channelsvg=channel$13.querySelector(".icon-3tVJnl");$jscomp$loop$31.channelname=channel$13.querySelector(".name-2SL4ev");
    $jscomp$loop$31.channelname.innerText=$jscomp$loop$31.hiddenChannel.name;$(channel$13).on("mouseenter mouseleave",".wrapper-fDmxzK",function($jscomp$loop$31){return function(e){$jscomp$loop$31.channelwrapper.classList.toggle("wrapperDefaultText-3M3F1R");$jscomp$loop$31.channelwrapper.classList.toggle("wrapperHoveredText-1PA_Uk");$jscomp$loop$31.channelicon.classList.toggle("contentDefaultText-2elG3R");$jscomp$loop$31.channelicon.classList.toggle("contentHoveredText-2HYGIY");$jscomp$loop$31.channelsvg.classList.toggle("colorDefaultText-2v6rRX");
        $jscomp$loop$31.channelsvg.classList.toggle("colorHoveredText-1CsxK1");$jscomp$loop$31.channelname.classList.toggle("nameDefaultText-QoumjC");$jscomp$loop$31.channelname.classList.toggle("nameHoveredText-2FFqiz");$jscomp$this.showAccessRoles(serverObj,$jscomp$loop$31.hiddenChannel,e,false)}}($jscomp$loop$31)).on("click",function($jscomp$loop$31){return function(){BDfunctionsDario.showToast("You can not enter the hidden channel "+$jscomp$loop$31.hiddenChannel.name+".",{type:"error"})}}($jscomp$loop$31)).appendTo(category)}}var $jscomp$loop$32=
    {};var $jscomp$iter$4=$jscomp.makeIterator(hiddenChannels[2]),$jscomp$key$hiddenChannel=$jscomp$iter$4.next();for(;!$jscomp$key$hiddenChannel.done;$jscomp$loop$32={channel$15:$jscomp$loop$32.channel$15,channelwrapper$16:$jscomp$loop$32.channelwrapper$16,channelicon$17:$jscomp$loop$32.channelicon$17,channelsvg$18:$jscomp$loop$32.channelsvg$18,channelname$19:$jscomp$loop$32.channelname$19,hiddenChannel$14:$jscomp$loop$32.hiddenChannel$14},$jscomp$key$hiddenChannel=$jscomp$iter$4.next()){$jscomp$loop$32.hiddenChannel$14=
    $jscomp$key$hiddenChannel.value;{$jscomp$loop$32.channel$15=$(this.channelVoiceMarkup.replace("REPLACE_ID","cid"+$jscomp$loop$32.hiddenChannel$14.id))[0];$jscomp$loop$32.channelwrapper$16=$jscomp$loop$32.channel$15.querySelector(".wrapper-fDmxzK");$jscomp$loop$32.channelicon$17=$jscomp$loop$32.channel$15.querySelector(".content-2mSKOj");$jscomp$loop$32.channelsvg$18=$jscomp$loop$32.channel$15.querySelector(".icon-3tVJnl");$jscomp$loop$32.channelname$19=$jscomp$loop$32.channel$15.querySelector(".name-2SL4ev");
    var check=false;this.UsersVoiceStore.getVoiceStatesForChannel(serverID,$jscomp$loop$32.hiddenChannel$14.id).forEach(function($jscomp$loop$32){return function(state){var user=$jscomp$this.UserStore.getUser(state.userId);var frag=document.createRange().createContextualFragment('\n                            <div class="userDefault-2_cnT0" style="padding-bottom: 0px;padding-left: 28px;">\n                                <div class="avatarContainer-303pFz margin-reset" style="flex: 0 0 auto;">\n                                    <div class="avatarDefault-3jtQoc" style="background-image: url(&quot;https://cdn.discordapp.com/avatars/'+
        state.userId+"/"+user.avatar+'.webp?size=128&quot;);"></div>\n                                </div>\n                                <div class="nameDefault-1I0lx8 margin-reset" style="flex: 1 1 auto;">'+user.username+"</div>\n                                </div>");$jscomp$loop$32.channel$15.insertBefore(frag,$jscomp$loop$32.channel$15.lastChild)}}($jscomp$loop$32));$jscomp$loop$32.channelname$19.innerText=$jscomp$loop$32.hiddenChannel$14.name;$($jscomp$loop$32.channel$15).on("mouseenter mouseleave",
        ".wrapper-fDmxzK",function($jscomp$loop$32){return function(e){$jscomp$loop$32.channelwrapper$16.classList.toggle("wrapperDefaultVoice-2ud9mj");$jscomp$loop$32.channelwrapper$16.classList.toggle("wrapperHoveredVoice-3tbfNN");$jscomp$loop$32.channelicon$17.classList.toggle("contentDefaultVoice-311dxZ");$jscomp$loop$32.channelicon$17.classList.toggle("contentHoveredVoice-3qGNKh");$jscomp$loop$32.channelsvg$18.classList.toggle("colorDefaultVoice-1x4dEl");$jscomp$loop$32.channelsvg$18.classList.toggle("colorHoveredVoice-1P3kui");
            $jscomp$loop$32.channelname$19.classList.toggle("nameDefaultVoice-1swZoh");$jscomp$loop$32.channelname$19.classList.toggle("nameHoveredVoice-TIoHRJ");$jscomp$this.showAccessRoles(serverObj,$jscomp$loop$32.hiddenChannel$14,e,false)}}($jscomp$loop$32)).on("click",function($jscomp$loop$32){return function(){BDfunctionsDario.showToast("You can not enter the hidden channel "+$jscomp$loop$32.hiddenChannel$14.name+".",{type:"error"})}}($jscomp$loop$32)).appendTo(category)}}var $jscomp$loop$33={};var $jscomp$iter$5=
    $jscomp.makeIterator(hiddenChannels[4]),$jscomp$key$hiddenChannel=$jscomp$iter$5.next();for(;!$jscomp$key$hiddenChannel.done;$jscomp$loop$33={channelwrapper$22:$jscomp$loop$33.channelwrapper$22,channelsvg$23:$jscomp$loop$33.channelsvg$23,channelname$24:$jscomp$loop$33.channelname$24,hiddenChannel$20:$jscomp$loop$33.hiddenChannel$20},$jscomp$key$hiddenChannel=$jscomp$iter$5.next()){$jscomp$loop$33.hiddenChannel$20=$jscomp$key$hiddenChannel.value;{var channel$21=$(this.channelCategoryMarkup)[0];$jscomp$loop$33.channelwrapper$22=
    channel$21.querySelector(".wrapperCollapsed-18mf-c");$jscomp$loop$33.channelsvg$23=channel$21.querySelector(".iconCollapsed-1INdMX");$jscomp$loop$33.channelname$24=channel$21.querySelector(".nameCollapsed-3_ChMu");$jscomp$loop$33.channelname$24.innerText=$jscomp$loop$33.hiddenChannel$20.name;$(channel$21).on("mouseenter mouseleave",".flex-lFgbSz",function($jscomp$loop$33){return function(e){$jscomp$loop$33.channelwrapper$22.classList.toggle("wrapperCollapsed-18mf-c");$jscomp$loop$33.channelwrapper$22.classList.toggle("wrapperHoveredCollapsed-25KVVp");
    $jscomp$loop$33.channelsvg$23.classList.toggle("iconCollapsed-1INdMX");$jscomp$loop$33.channelsvg$23.classList.toggle("iconHoveredCollapsed-jNYgOD");$jscomp$loop$33.channelname$24.classList.toggle("nameCollapsed-3_ChMu");$jscomp$loop$33.channelname$24.classList.toggle("nameHoveredCollapsed-2c-EHI");$jscomp$this.showAccessRoles(serverObj,$jscomp$loop$33.hiddenChannel$20,e,false)}}($jscomp$loop$33)).on("click",function($jscomp$loop$33){return function(){BDfunctionsDario.showToast("You can not enter the hidden channel "+
    $jscomp$loop$33.hiddenChannel$20.name+".",{type:"error"})}}($jscomp$loop$33)).appendTo(category)}}var isOpen=BDfunctionsDario.loadData(serverID,this,"categorystatus");isOpen=isOpen===null?true:isOpen;if(!isOpen){wrapper.classList.toggle("wrapperDefault-1Dl4SS");wrapper.classList.toggle("wrapperCollapsed-18mf-c");svg.classList.toggle("iconDefault-xzclSQ");svg.classList.toggle("iconCollapsed-1INdMX");svg.classList.toggle("closed-2Hef-I");name.classList.toggle("nameDefault-Lnjrwm");name.classList.toggle("nameCollapsed-3_ChMu");
    $(category).find(".containerDefault-7RImuF").hide()}this.appendToChannelList(category)}}}};
ShowHiddenChannels.prototype.showAccessRoles=function(serverObj,channel,e,allowed){if(e.type!="mouseenter")return;var settings=BDfunctionsDario.getAllData(this,"settings");if(!settings.showAllowedRoles&&!settings.showDeniedRoles)return;var myMember=this.MemberStore.getMember(serverObj.id,BDfunctionsDario.myData.id);var allowedRoles=[],overwrittenRoles=[],deniedRoles=[],deniedUsers=[];var everyoneDenied=false;for(var id in channel.permissionOverwrites){if(settings.showAllowedRoles&&channel.permissionOverwrites[id].type==
    "role"&&serverObj.roles[id].name!="@everyone"&&(channel.permissionOverwrites[id].allow|this.Permissions.VIEW_CHANNEL)==channel.permissionOverwrites[id].allow)if(myMember.roles.includes(id)&&!allowed){if(settings.showOverWrittenRoles)overwrittenRoles.push(serverObj.roles[id])}else allowedRoles.push(serverObj.roles[id]);if(settings.showDeniedRoles&&channel.permissionOverwrites[id].type=="role"&&(channel.permissionOverwrites[id].deny|this.Permissions.VIEW_CHANNEL)==channel.permissionOverwrites[id].deny){deniedRoles.push(serverObj.roles[id]);
    if(serverObj.roles[id].name=="@everyone")everyoneDenied=true}else if(settings.showDeniedUsers&&channel.permissionOverwrites[id].type=="member"&&(channel.permissionOverwrites[id].deny|this.Permissions.VIEW_CHANNEL)==channel.permissionOverwrites[id].deny){var user=this.UserStore.getUser(id);var member=this.MemberStore.getMember(serverObj.id,id);if(user&&member)deniedUsers.push(Object.assign({name:user.username},member))}}if(settings.showAllowedRoles&&allowed&&!everyoneDenied)allowedRoles.push({"name":"@everyone"});
    var htmlString="";if(settings.showTopic&&!allowed&&channel.topic)htmlString+='<div class="marginBottom4-_yArcI">Topic:</div><div class="flex-3B1Tl4 wrap-1da0e3"><div class="role-3rahR_ flex-3B1Tl4 alignCenter-3VxkQP size12-1IGJl9 weightMedium-13x9Y8 SHC-topic" style="border-color: rgba(255, 255, 255, 0.6); height: unset !important; padding-top: 5px; padding-bottom: 5px; max-width: '+window.outerWidth/3+'px">'+channel.topic+"</div></div>";if(allowedRoles.length>0||overwrittenRoles.length>0){htmlString+=
        '<div class="marginBottom4-_yArcI">Allowed Roles:</div><div class="flex-3B1Tl4 wrap-1da0e3">';for(var $jscomp$iter$6=$jscomp.makeIterator(allowedRoles),$jscomp$key$role=$jscomp$iter$6.next();!$jscomp$key$role.done;$jscomp$key$role=$jscomp$iter$6.next()){var role=$jscomp$key$role.value;{var color=role.colorString?BDfunctionsDario.color2COMP(role.colorString):[255,255,255];htmlString+='<div class="role-3rahR_ flex-3B1Tl4 alignCenter-3VxkQP size12-1IGJl9 weightMedium-13x9Y8 SHC-allowedrole" style="border-color: rgba('+
        color[0]+", "+color[1]+", "+color[2]+', 0.6);"><div class="roleCircle-3-vPZq" style="background-color: rgb('+color[0]+", "+color[1]+", "+color[2]+');"></div><div class="roleName-DUQZ9m">'+BDfunctionsDario.encodeToHTML(role.name)+"</div></div>"}}for(var $jscomp$iter$7=$jscomp.makeIterator(overwrittenRoles),$jscomp$key$role=$jscomp$iter$7.next();!$jscomp$key$role.done;$jscomp$key$role=$jscomp$iter$7.next()){var role$25=$jscomp$key$role.value;{var color$26=role$25.colorString?BDfunctionsDario.color2COMP(role$25.colorString):
        [255,255,255];htmlString+='<div class="role-3rahR_ flex-3B1Tl4 alignCenter-3VxkQP size12-1IGJl9 weightMedium-13x9Y8 SHC-overwrittenrole" style="border-color: rgba('+color$26[0]+", "+color$26[1]+", "+color$26[2]+', 0.6);"><div class="roleCircle-3-vPZq" style="background-color: rgb('+color$26[0]+", "+color$26[1]+", "+color$26[2]+');"></div><div class="roleName-DUQZ9m" style="text-decoration: line-through !important;">'+BDfunctionsDario.encodeToHTML(role$25.name)+"</div></div>"}}htmlString+="</div>"}if(deniedRoles.length>
        0){htmlString+='<div class="marginBottom4-_yArcI">Denied Roles:</div><div class="flex-3B1Tl4 wrap-1da0e3">';for(var $jscomp$iter$8=$jscomp.makeIterator(deniedRoles),$jscomp$key$role=$jscomp$iter$8.next();!$jscomp$key$role.done;$jscomp$key$role=$jscomp$iter$8.next()){var role$27=$jscomp$key$role.value;{var color$28=role$27.colorString?BDfunctionsDario.color2COMP(role$27.colorString):[255,255,255];htmlString+='<div class="role-3rahR_ flex-3B1Tl4 alignCenter-3VxkQP size12-1IGJl9 weightMedium-13x9Y8 SHC-deniedrole" style="border-color: rgba('+
        color$28[0]+", "+color$28[1]+", "+color$28[2]+', 0.6);"><div class="roleCircle-3-vPZq" style="background-color: rgb('+color$28[0]+", "+color$28[1]+", "+color$28[2]+');"></div><div class="roleName-DUQZ9m">'+BDfunctionsDario.encodeToHTML(role$27.name)+"</div></div>"}}htmlString+="</div>"}if(deniedUsers.length>0){htmlString+='<div class="marginBottom4-_yArcI">Denied Users:</div><div class="flex-3B1Tl4 wrap-1da0e3">';for(var $jscomp$iter$9=$jscomp.makeIterator(deniedUsers),$jscomp$key$user=$jscomp$iter$9.next();!$jscomp$key$user.done;$jscomp$key$user=
        $jscomp$iter$9.next()){var user$29=$jscomp$key$user.value;{var color$30=user$29.colorString?BDfunctionsDario.color2COMP(user$29.colorString):[255,255,255];htmlString+='<div class="role-3rahR_ flex-3B1Tl4 alignCenter-3VxkQP size12-1IGJl9 weightMedium-13x9Y8 SHC-denieduser" style="border-color: rgba('+color$30[0]+", "+color$30[1]+", "+color$30[2]+', 0.6);"><div class="roleCircle-3-vPZq" style="background-color: rgb('+color$30[0]+", "+color$30[1]+", "+color$30[2]+');"></div><div class="roleName-DUQZ9m">'+
        BDfunctionsDario.encodeToHTML(user$29.nick?user$29.nick:user$29.name)+"</div></div>"}}htmlString+="</div>"}if(htmlString){var customTooltipCSS="\n\t\t\t\t.showhiddenchannels-tooltip {\n\t\t\t\t\tmax-width: "+window.outerWidth/2+"px !important;\n\t\t\t\t}";var tooltip=BDfunctionsDario.createTooltip(htmlString,e.currentTarget,{type:"right",selector:"showhiddenchannels-tooltip",html:true,css:customTooltipCSS});tooltip.style.top=tooltip.style.top.replace("px","")-$(e.currentTarget).css("padding-bottom").replace("px",
        "")/2+$(e.currentTarget).css("padding-top").replace("px","")/2+"px"}};
ShowHiddenChannels.prototype.appendToChannelList=function(category){var $jscomp$this=this;var channelList=document.querySelector(".channels-3g2vYe .scroller-fzNley.scroller-NXV0-d");if(channelList){$(channelList).off("mouseenter."+this.getName());if(category)channelList.insertBefore(category,channelList.lastChild);if(BDfunctionsDario.getData("showForNormal",this,"settings")){var serverObj=BDfunctionsDario.getSelectedServer();if(serverObj)$(channelList).on("mouseenter."+this.getName(),".containerDefault-7RImuF, .containerDefault-1bbItS",
    function(e){var channel=BDfunctionsDario.getKeyInformation({"node":e.currentTarget,"key":"channel"});if(channel)$jscomp$this.showAccessRoles(serverObj,channel,e,true);console.log(channel)})}}};